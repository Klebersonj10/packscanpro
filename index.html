<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PackScan Pro</title>
    <!-- Favicon baseado no logotipo blue scan -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='25' fill='%232563eb'/%3E%3Cpath d='M30 35 V30 H35 M65 30 H70 V35 M70 65 V70 H65 M35 70 H30 V65' stroke='white' stroke-width='6' fill='none' stroke-linecap='round'/%3E%3C/svg%3E">
    <script>
        /** 
         * Polyfill para compatibilidade com bibliotecas que esperam o objeto 'process' ou 'global'.
         */
        window.global = window;
        
        // Proteção contra bibliotecas que tentam sobrescrever o fetch global (comum em polyfills de Node)
        if (typeof window.fetch === 'function') {
            const _fetch = window.fetch;
            try {
                Object.defineProperty(window, 'fetch', {
                    configurable: false,
                    enumerable: true,
                    get: () => _fetch,
                    set: () => { console.warn('Tentativa de sobrescrever window.fetch bloqueada.'); }
                });
            } catch (e) {
                // Se não puder definir, apenas ignoramos
            }
        }

        if (!window.process) {
            window.process = { 
                env: { NODE_ENV: 'production' },
                nextTick: function(fn) { setTimeout(fn, 0); },
                browser: true
            };
        }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 text-slate-900 font-sans">
    <div id="root"></div>
    <script type="module" src="index.tsx"></script>
</body>
</html>